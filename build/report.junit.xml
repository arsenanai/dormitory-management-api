<?xml version="1.0" encoding="UTF-8"?>
<testsuites>
  <testsuite name="/Users/rsa/lab/testcrm/crm-back/phpunit.xml" tests="136" assertions="283" errors="43" failures="7" skipped="0" time="10.297297">
    <testsuite name="Unit" tests="99" assertions="161" errors="39" failures="5" skipped="0" time="7.686786">
      <testsuite name="Tests\Unit\GuestRoomAvailabilityTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/GuestRoomAvailabilityTest.php" tests="2" assertions="0" errors="2" failures="0" skipped="0" time="0.756320">
        <testcase name="it_does_not_return_student_rooms_for_guests_by_default" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/GuestRoomAvailabilityTest.php" line="53" class="Tests\Unit\GuestRoomAvailabilityTest" classname="Tests.Unit.GuestRoomAvailabilityTest" assertions="0" time="0.710014">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\GuestRoomAvailabilityTest::it_does_not_return_student_rooms_for_guests_by_default
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: beds.room_id, beds.bed_number (Connection: sqlite, SQL: insert into "beds" ("room_id", "bed_number", "updated_at", "created_at") values (1, 1, 2026-01-15 11:41:30, 2026-01-15 11:41:30))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
/Users/rsa/lab/testcrm/crm-back/tests/Unit/GuestRoomAvailabilityTest.php:61</error>
        </testcase>
        <testcase name="it_returns_guest_rooms_for_guests" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/GuestRoomAvailabilityTest.php" line="31" class="Tests\Unit\GuestRoomAvailabilityTest" classname="Tests.Unit.GuestRoomAvailabilityTest" assertions="0" time="0.046305">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\GuestRoomAvailabilityTest::it_returns_guest_rooms_for_guests
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: beds.room_id, beds.bed_number (Connection: sqlite, SQL: insert into "beds" ("room_id", "bed_number", "updated_at", "created_at") values (1, 1, 2026-01-15 11:41:30, 2026-01-15 11:41:30))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
/Users/rsa/lab/testcrm/crm-back/tests/Unit/GuestRoomAvailabilityTest.php:39</error>
        </testcase>
      </testsuite>
      <testsuite name="Tests\Unit\RoomServiceAvailableTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php" tests="5" assertions="0" errors="5" failures="0" skipped="0" time="0.254751">
        <testcase name="it_includes_room_type_and_dormitory_relationships" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php" line="278" class="Tests\Unit\RoomServiceAvailableTest" classname="Tests.Unit.RoomServiceAvailableTest" assertions="0" time="0.053082">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\RoomServiceAvailableTest::it_includes_room_type_and_dormitory_relationships
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: beds.room_id, beds.bed_number (Connection: sqlite, SQL: insert into "beds" ("room_id", "bed_number", "is_occupied", "reserved_for_staff", "user_id", "updated_at", "created_at") values (1, 1, 0, 0, ?, 2026-01-15 11:41:30, 2026-01-15 11:41:30))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php:288</error>
        </testcase>
        <testcase name="it_returns_multiple_rooms_with_available_beds" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php" line="234" class="Tests\Unit\RoomServiceAvailableTest" classname="Tests.Unit.RoomServiceAvailableTest" assertions="0" time="0.048881">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\RoomServiceAvailableTest::it_returns_multiple_rooms_with_available_beds
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: beds.room_id, beds.bed_number (Connection: sqlite, SQL: insert into "beds" ("room_id", "bed_number", "is_occupied", "reserved_for_staff", "user_id", "updated_at", "created_at") values (1, 1, 0, 0, ?, 2026-01-15 11:41:30, 2026-01-15 11:41:30))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php:252</error>
        </testcase>
        <testcase name="it_filters_by_dormitory_id" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php" line="184" class="Tests\Unit\RoomServiceAvailableTest" classname="Tests.Unit.RoomServiceAvailableTest" assertions="0" time="0.049789">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\RoomServiceAvailableTest::it_filters_by_dormitory_id
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: beds.room_id, beds.bed_number (Connection: sqlite, SQL: insert into "beds" ("room_id", "bed_number", "is_occupied", "reserved_for_staff", "user_id", "updated_at", "created_at") values (1, 1, 0, 0, ?, 2026-01-15 11:41:30, 2026-01-15 11:41:30))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php:209</error>
        </testcase>
        <testcase name="it_returns_only_rooms_with_available_beds_for_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php" line="42" class="Tests\Unit\RoomServiceAvailableTest" classname="Tests.Unit.RoomServiceAvailableTest" assertions="0" time="0.056312">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\RoomServiceAvailableTest::it_returns_only_rooms_with_available_beds_for_students
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: beds.room_id, beds.bed_number (Connection: sqlite, SQL: insert into "beds" ("room_id", "bed_number", "is_occupied", "reserved_for_staff", "user_id", "updated_at", "created_at") values (1, 1, 0, 0, ?, 2026-01-15 11:41:30, 2026-01-15 11:41:30))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php:75</error>
        </testcase>
        <testcase name="it_returns_empty_collection_when_no_rooms_have_available_beds" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php" line="149" class="Tests\Unit\RoomServiceAvailableTest" classname="Tests.Unit.RoomServiceAvailableTest" assertions="0" time="0.046688">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\RoomServiceAvailableTest::it_returns_empty_collection_when_no_rooms_have_available_beds
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: beds.room_id, beds.bed_number (Connection: sqlite, SQL: insert into "beds" ("room_id", "bed_number", "is_occupied", "reserved_for_staff", "user_id", "updated_at", "created_at") values (1, 1, 1, 0, 201, 2026-01-15 11:41:30, 2026-01-15 11:41:30))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomServiceAvailableTest.php:160</error>
        </testcase>
      </testsuite>
      <testsuite name="Tests\Unit\Services\FileServiceTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" tests="13" assertions="12" errors="6" failures="0" skipped="0" time="0.594405">
        <testcase name="test_download_student_file_non_existent" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="116" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="0" time="0.055444">
          <error type="Error">Tests\Unit\Services\FileServiceTest::test_download_student_file_non_existent
Error: Call to undefined method App\Services\FileService::downloadStudentFile()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php:120</error>
        </testcase>
        <testcase name="test_download_student_file_unauthorized_type" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="130" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="0" time="0.034984">
          <error type="Error">Tests\Unit\Services\FileServiceTest::test_download_student_file_unauthorized_type
Error: Call to undefined method App\Services\FileService::downloadStudentFile()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php:138</error>
        </testcase>
        <testcase name="test_download_student_file_different_image_extensions" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="148" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="0" time="0.034638">
          <error type="Error">Tests\Unit\Services\FileServiceTest::test_download_student_file_different_image_extensions
Error: Call to undefined method App\Services\FileService::downloadStudentFile()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php:158</error>
        </testcase>
        <testcase name="test_download_authenticated_file_non_existent" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="183" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="0" time="0.035146">
          <error type="Error">Tests\Unit\Services\FileServiceTest::test_download_authenticated_file_non_existent
Error: Call to undefined method App\Services\FileService::downloadAuthenticatedFile()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php:187</error>
        </testcase>
        <testcase name="test_download_authenticated_file_valid" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="167" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="0" time="0.035267">
          <error type="Error">Tests\Unit\Services\FileServiceTest::test_download_authenticated_file_valid
Error: Call to undefined method App\Services\FileService::downloadAuthenticatedFile()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php:174</error>
        </testcase>
        <testcase name="test_download_student_file_valid_image" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="99" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="0" time="0.034297">
          <error type="Error">Tests\Unit\Services\FileServiceTest::test_download_student_file_valid_image
Error: Call to undefined method App\Services\FileService::downloadStudentFile()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php:107</error>
        </testcase>
        <testcase name="test_validate_file_null_value" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="75" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="2" time="0.039071"/>
        <testcase name="test_validate_file_with_custom_rules" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="86" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="2" time="0.136929"/>
        <testcase name="test_log_file_info" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="197" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="0" time="0.036420"/>
        <testcase name="test_validate_file_too_large" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="51" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="2" time="0.041695"/>
        <testcase name="test_validate_file_string_value" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="63" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="2" time="0.036221"/>
        <testcase name="test_validate_file_invalid_file_type" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="39" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="2" time="0.038416"/>
        <testcase name="test_validate_file_valid_uploaded_file" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/FileServiceTest.php" line="27" class="Tests\Unit\Services\FileServiceTest" classname="Tests.Unit.Services.FileServiceTest" assertions="2" time="0.035876"/>
      </testsuite>
      <testsuite name="Tests\Unit\Services\GuestServiceTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" tests="14" assertions="0" errors="14" failures="0" skipped="0" time="0.000000">
        <testcase name="test_get_guests_with_filters_returns_guests_with_relationships" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="82" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_get_guests_with_filters_returns_guests_with_relationships
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/009966?text=room+numquam\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00cc66?text=room+porro\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_get_guests_with_filters_filters_by_room_id" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="96" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_get_guests_with_filters_filters_by_room_id
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/0055bb?text=room+et\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/000099?text=room+veniam\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_get_guests_with_filters_includes_room_type_beds_data" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="113" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_get_guests_with_filters_includes_room_type_beds_data
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00eebb?text=room+cupiditate\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/0000bb?text=room+velit\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_create_guest_calculates_daily_rate_correctly" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="126" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_create_guest_calculates_daily_rate_correctly
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/0099bb?text=room+quo\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/009944?text=room+in\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_create_guest_uses_room_type_daily_rate_as_fallback" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="149" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_create_guest_uses_room_type_daily_rate_as_fallback
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/0077ee?text=room+pariatur\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00ddcc?text=room+ipsa\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_get_available_rooms_returns_rooms_with_room_type" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="169" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_get_available_rooms_returns_rooms_with_room_type
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/008811?text=room+distinctio\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/000077?text=room+voluptates\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_get_available_rooms_excludes_occupied_rooms" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="181" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_get_available_rooms_excludes_occupied_rooms
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/008822?text=room+ea\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00aaff?text=room+sequi\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_export_guests_includes_room_type_data" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="191" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_export_guests_includes_room_type_data
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/007722?text=room+dicta\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/002222?text=room+qui\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_export_guests_filters_by_room_id" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="205" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_export_guests_filters_by_room_id
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/005577?text=room+sapiente\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/007700?text=room+ducimus\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_get_guest_by_id_returns_guest_with_relationships" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="222" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_get_guest_by_id_returns_guest_with_relationships
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00bb66?text=room+ut\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/008855?text=room+et\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_get_guest_by_id_throws_exception_for_nonexistent_guest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="234" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_get_guest_by_id_throws_exception_for_nonexistent_guest
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/0066bb?text=room+voluptatem\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/003388?text=room+quia\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_update_guest_updates_guest_data" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="241" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_update_guest_updates_guest_data
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00ccdd?text=room+autem\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00bb11?text=room+eum\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_delete_guest_removes_guest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="256" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_delete_guest_removes_guest
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/0066bb?text=room+a\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00ff66?text=room+in\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
        <testcase name="test_delete_guest_throws_exception_for_nonexistent_guest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php" line="264" class="Tests\Unit\Services\GuestServiceTest" classname="Tests.Unit.Services.GuestServiceTest" assertions="0" time="0.000000">
          <error type="Illuminate\Database\QueryException">Tests\Unit\Services\GuestServiceTest::test_delete_guest_throws_exception_for_nonexistent_guest
Illuminate\Database\QueryException: Array to string conversion (Connection: sqlite, SQL: insert into "room_types" ("name", "capacity", "daily_rate", "semester_rate", "minimap", "beds", "photos", "updated_at", "created_at") values (Test Room Type, 2, 50, 1500, ?, ?, "[\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/00ee44?text=room+sed\",\"https:\\\/\\\/via.placeholder.com\\\/640x480.png\\\/003344?text=room+placeat\"]", 2026-01-15 11:41:31, 2026-01-15 11:41:31))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/GuestServiceTest.php:35</error>
        </testcase>
      </testsuite>
      <testsuite name="Tests\Unit\Services\StudentServiceTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" tests="27" assertions="49" errors="4" failures="1" skipped="0" time="1.422286">
        <testcase name="test_get_students_with_admin_user" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="386" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="0" time="0.084403">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\Services\StudentServiceTest::test_get_students_with_admin_user
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: users.email (Connection: sqlite, SQL: insert into "users" ("name", "first_name", "last_name", "email", "email_verified_at", "phone_numbers", "room_id", "password", "status", "role_id", "remember_token", "dormitory_id", "updated_at", "created_at") values (Test Student, Wade, Waters, student@test.com, ?, "[\"+1-213-516-7409\"]", ?, $2y$04$DY7/uP3GxN0XvE4mXNVNrOkMDhdvbP8VJP7pdj/98.AG31kKcI46m, pending, 1, DAYbiGCEmN, 2, 2026-01-15 11:41:32, 2026-01-15 11:41:32))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:529
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:393</error>
        </testcase>
        <testcase name="test_get_students_with_filters" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="365" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="0" time="0.056629">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\Services\StudentServiceTest::test_get_students_with_filters
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: student_profiles.iin (Connection: sqlite, SQL: insert into "student_profiles" ("user_id", "iin", "student_id", "faculty", "specialist", "course", "year_of_study", "enrollment_year", "blood_type", "violations", "emergency_contact_name", "emergency_contact_phone", "emergency_contact_type", "emergency_contact_email", "emergency_contact_relationship", "medical_conditions", "dietary_restrictions", "program", "year_level", "nationality", "deal_number", "agree_to_dormitory_rules", "has_meal_plan", "registration_limit_reached", "is_backup_list", "date_of_birth", "gender", "files", "updated_at", "created_at") values (4, 123456789012, STU32479, Law, Accounting, 4, 1, 2022, AB+, ?, Mossie Marks, 737-229-6011, guardian, lenna56@yahoo.com, Father, ?, ?, Law, 1, Guam, ?, 0, 1, 0, 0, 2001-12-13 10:49:19, female, "null", 2026-01-15 11:41:32, 2026-01-15 11:41:32))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:537
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:369</error>
        </testcase>
        <testcase name="test_get_student_statistics" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="486" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="0" time="0.052862">
          <error type="Illuminate\Database\UniqueConstraintViolationException">Tests\Unit\Services\StudentServiceTest::test_get_student_statistics
Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: users.email (Connection: sqlite, SQL: insert into "users" ("name", "first_name", "last_name", "email", "email_verified_at", "phone_numbers", "room_id", "password", "status", "role_id", "remember_token", "dormitory_id", "updated_at", "created_at") values (Test Student, Chad, McCullough, student@test.com, ?, "[\"+16367074223\"]", ?, $2y$04$DY7/uP3GxN0XvE4mXNVNrOkMDhdvbP8VJP7pdj/98.AG31kKcI46m, pending, 1, dO7I7FnWGL, 1, 2026-01-15 11:41:32, 2026-01-15 11:41:32))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:821
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:529
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:490</error>
        </testcase>
        <testcase name="test_update_student_with_bed_reassignment" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="319" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="0" time="0.064814">
          <error type="Illuminate\Validation\ValidationException">Tests\Unit\Services\StudentServiceTest::test_update_student_with_bed_reassignment
Illuminate\Validation\ValidationException: The selected dormitory does not accept students of this gender.

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Validation/ValidationException.php:70
/Users/rsa/lab/testcrm/crm-back/app/Services/StudentService.php:151
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php:35
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php:491
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:363
/Users/rsa/lab/testcrm/crm-back/app/Services/StudentService.php:133
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:329</error>
        </testcase>
        <testcase name="test_delete_student_frees_up_bed" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="435" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="1" time="0.065658">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Unit\Services\StudentServiceTest::test_delete_student_frees_up_bed
Failed asserting that true is false.

/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php:446</failure>
        </testcase>
        <testcase name="test_construct_full_name_with_only_first_name" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="179" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="1" time="0.044286"/>
        <testcase name="test_validate_student_file_string_value" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="126" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.043426"/>
        <testcase name="test_validate_student_file_null_value" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="138" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.043623"/>
        <testcase name="test_construct_full_name_with_both_names" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="149" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="1" time="0.043391"/>
        <testcase name="test_construct_full_name_with_extra_spaces" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="164" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="1" time="0.043147"/>
        <testcase name="test_construct_full_name_with_only_last_name" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="194" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="1" time="0.043639"/>
        <testcase name="test_construct_full_name_with_missing_names" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="209" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="1" time="0.043108"/>
        <testcase name="test_create_student_gender_incompatible_with_dormitory" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="277" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.044401"/>
        <testcase name="test_validate_student_file_valid_uploaded_file_index_0" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="66" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.044245"/>
        <testcase name="test_log_file_info" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="221" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="0" time="0.043500"/>
        <testcase name="test_validate_student_file_valid_uploaded_file_index_2" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="78" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.048016"/>
        <testcase name="test_validate_student_file_file_too_large_index_2" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="102" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.047960"/>
        <testcase name="test_validate_student_file_avatar_dimensions_too_small" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="114" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.045450"/>
        <testcase name="test_validate_student_file_invalid_file_type_index_0" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="90" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.044748"/>
        <testcase name="test_create_student_with_valid_data" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="235" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="9" time="0.052134"/>
        <testcase name="test_approve_student" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="455" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="1" time="0.056138"/>
        <testcase name="test_delete_student" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="421" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.058826"/>
        <testcase name="test_get_student_details" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="404" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="4" time="0.058052"/>
        <testcase name="test_update_student_with_valid_data" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="293" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="4" time="0.061459"/>
        <testcase name="test_create_student_with_bed_assignment" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="257" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="3" time="0.063460"/>
        <testcase name="test_export_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="469" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.063159"/>
        <testcase name="test_update_student_gender_incompatible_with_dormitory" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Services/StudentServiceTest.php" line="340" class="Tests\Unit\Services\StudentServiceTest" classname="Tests.Unit.Services.StudentServiceTest" assertions="2" time="0.061750"/>
      </testsuite>
      <testsuite name="Tests\Unit\FileServiceTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" tests="15" assertions="45" errors="0" failures="1" skipped="0" time="0.623381">
        <testcase name="it_validates_image_files_with_size_limit" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="259" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="5" time="0.092278">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Unit\FileServiceTest::it_validates_image_files_with_size_limit
Failed asserting that 'The file field must not be greater than 2048 kilobytes.' [ASCII](length: 55) contains "size" [ASCII](length: 4).

/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php:272</failure>
        </testcase>
        <testcase name="it_handles_deleting_empty_file_array" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="165" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="1" time="0.036672"/>
        <testcase name="it_downloads_files_from_public_disk" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="25" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="1" time="0.050248"/>
        <testcase name="it_validates_files_correctly" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="50" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="2" time="0.035550"/>
        <testcase name="it_handles_empty_file_array_upload" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="130" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="1" time="0.036268"/>
        <testcase name="it_handles_deleting_nonexistent_files" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="176" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="1" time="0.038144"/>
        <testcase name="it_deletes_multiple_files" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="141" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="4" time="0.038300"/>
        <testcase name="it_replaces_files_with_cleanup" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="190" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="7" time="0.037715"/>
        <testcase name="it_replaces_files_with_empty_array" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="223" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="2" time="0.035971"/>
        <testcase name="it_handles_uploaded_file_validation" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="61" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="2" time="0.036736"/>
        <testcase name="it_uploads_multiple_files_to_specific_folder" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="93" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="5" time="0.036920"/>
        <testcase name="it_limits_multiple_file_uploads" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="113" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="3" time="0.037847"/>
        <testcase name="it_validates_image_files" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="243" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="4" time="0.037236"/>
        <testcase name="it_returns_404_for_nonexistent_files" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="38" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="3" time="0.036653"/>
        <testcase name="it_handles_different_file_types" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/FileServiceTest.php" line="73" class="Tests\Unit\FileServiceTest" classname="Tests.Unit.FileServiceTest" assertions="4" time="0.036842"/>
      </testsuite>
      <testsuite name="Tests\Unit\RoomTypeServiceTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" tests="9" assertions="18" errors="1" failures="3" skipped="0" time="0.507646">
        <testcase name="it_creates_room_type_with_photos" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="54" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="4" time="0.075744">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Unit\RoomTypeServiceTest::it_creates_room_type_with_photos
Failed asserting that actual size 0 matches expected size 2.

/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php:79</failure>
        </testcase>
        <testcase name="it_handles_empty_photo_array" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="245" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="1" time="0.040609"/>
        <testcase name="it_updates_room_type_without_photos" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="91" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="2" time="0.039831"/>
        <testcase name="it_deletes_room_type_without_photos" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="110" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="1" time="0.038492"/>
        <testcase name="it_deletes_room_type_with_photos" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="127" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="2" time="0.174161"/>
        <testcase name="it_creates_room_type_with_photos_in_room_type_folder" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="150" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="2" time="0.024189">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Unit\RoomTypeServiceTest::it_creates_room_type_with_photos_in_room_type_folder
Failed asserting that actual size 0 matches expected size 2.

/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php:167</failure>
        </testcase>
        <testcase name="it_handles_photo_upload_limit" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="219" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="2" time="0.039858">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Unit\RoomTypeServiceTest::it_handles_photo_upload_limit
Failed asserting that actual size 0 matches expected size 10.

/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php:241</failure>
        </testcase>
        <testcase name="it_creates_room_type_without_photos" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="33" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="4" time="0.036531"/>
        <testcase name="it_updates_room_type_photos_with_cleanup" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php" line="178" class="Tests\Unit\RoomTypeServiceTest" classname="Tests.Unit.RoomTypeServiceTest" assertions="0" time="0.038230">
          <error type="ErrorException">Tests\Unit\RoomTypeServiceTest::it_updates_room_type_photos_with_cleanup
ErrorException: Undefined array key 0

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeServiceTest.php:208</error>
        </testcase>
      </testsuite>
      <testsuite name="Tests\Unit\RoomTypeValidationTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeValidationTest.php" tests="2" assertions="0" errors="2" failures="0" skipped="0" time="0.091317">
        <testcase name="it_has_correct_base_rules_when_no_photos_are_provided" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeValidationTest.php" line="62" class="Tests\Unit\RoomTypeValidationTest" classname="Tests.Unit.RoomTypeValidationTest" assertions="0" time="0.055915">
          <error type="Error">Tests\Unit\RoomTypeValidationTest::it_has_correct_base_rules_when_no_photos_are_provided
Error: Call to undefined method App\Http\Controllers\RoomTypeController::getRulesForUpdate()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeValidationTest.php:71</error>
        </testcase>
        <testcase name="it_validates_photos_field_and_dynamic_photo_uploads" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeValidationTest.php" line="29" class="Tests\Unit\RoomTypeValidationTest" classname="Tests.Unit.RoomTypeValidationTest" assertions="0" time="0.035403">
          <error type="Error">Tests\Unit\RoomTypeValidationTest::it_validates_photos_field_and_dynamic_photo_uploads
Error: Call to undefined method App\Http\Controllers\RoomTypeController::getRulesForUpdate()

/Users/rsa/lab/testcrm/crm-back/tests/Unit/RoomTypeValidationTest.php:43</error>
        </testcase>
      </testsuite>
      <testsuite name="Tests\Unit\Seeders\DevelopmentSeederTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php" tests="5" assertions="0" errors="5" failures="0" skipped="0" time="3.125247">
        <testcase name="test_seeder_handles_file_storage_correctly" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php" line="137" class="Tests\Unit\Seeders\DevelopmentSeederTest" classname="Tests.Unit.Seeders.DevelopmentSeederTest" assertions="0" time="0.512835">
          <error type="ErrorException">Tests\Unit\Seeders\DevelopmentSeederTest::test_seeder_handles_file_storage_correctly
ErrorException: Undefined array key 505

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
/Users/rsa/lab/testcrm/crm-back/database/seeders/DevelopmentSeeder.php:633
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php:139</error>
        </testcase>
        <testcase name="test_seeder_stores_avatar_files_in_storage" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php" line="63" class="Tests\Unit\Seeders\DevelopmentSeederTest" classname="Tests.Unit.Seeders.DevelopmentSeederTest" assertions="0" time="0.663101">
          <error type="ErrorException">Tests\Unit\Seeders\DevelopmentSeederTest::test_seeder_stores_avatar_files_in_storage
ErrorException: Undefined array key 505

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
/Users/rsa/lab/testcrm/crm-back/database/seeders/DevelopmentSeeder.php:633
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php:65</error>
        </testcase>
        <testcase name="test_seeder_creates_students_with_avatar_files_at_correct_index" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php" line="39" class="Tests\Unit\Seeders\DevelopmentSeederTest" classname="Tests.Unit.Seeders.DevelopmentSeederTest" assertions="0" time="0.614909">
          <error type="ErrorException">Tests\Unit\Seeders\DevelopmentSeederTest::test_seeder_creates_students_with_avatar_files_at_correct_index
ErrorException: Undefined array key 505

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
/Users/rsa/lab/testcrm/crm-back/database/seeders/DevelopmentSeeder.php:633
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php:41</error>
        </testcase>
        <testcase name="test_seeder_creates_proper_student_data_structure" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php" line="116" class="Tests\Unit\Seeders\DevelopmentSeederTest" classname="Tests.Unit.Seeders.DevelopmentSeederTest" assertions="0" time="0.616038">
          <error type="ErrorException">Tests\Unit\Seeders\DevelopmentSeederTest::test_seeder_creates_proper_student_data_structure
ErrorException: Undefined array key 505

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
/Users/rsa/lab/testcrm/crm-back/database/seeders/DevelopmentSeeder.php:633
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php:118</error>
        </testcase>
        <testcase name="test_seeder_assigns_beds_to_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php" line="89" class="Tests\Unit\Seeders\DevelopmentSeederTest" classname="Tests.Unit.Seeders.DevelopmentSeederTest" assertions="0" time="0.718364">
          <error type="ErrorException">Tests\Unit\Seeders\DevelopmentSeederTest::test_seeder_assigns_beds_to_students
ErrorException: Undefined array key 505

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
/Users/rsa/lab/testcrm/crm-back/database/seeders/DevelopmentSeeder.php:633
/Users/rsa/lab/testcrm/crm-back/tests/Unit/Seeders/DevelopmentSeederTest.php:91</error>
        </testcase>
      </testsuite>
      <testsuite name="Tests\Unit\StudentProfileModelTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" tests="7" assertions="37" errors="0" failures="0" skipped="0" time="0.311433">
        <testcase name="test_identification_fields_are_fillable" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" line="159" class="Tests\Unit\StudentProfileModelTest" classname="Tests.Unit.StudentProfileModelTest" assertions="2" time="0.045783"/>
        <testcase name="test_student_profile_can_be_created_with_identification_fields" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" line="104" class="Tests\Unit\StudentProfileModelTest" classname="Tests.Unit.StudentProfileModelTest" assertions="3" time="0.040320"/>
        <testcase name="test_student_profile_accepts_all_emergency_contact_types" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" line="44" class="Tests\Unit\StudentProfileModelTest" classname="Tests.Unit.StudentProfileModelTest" assertions="3" time="0.050573"/>
        <testcase name="test_student_profile_does_not_have_old_contact_fields" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" line="69" class="Tests\Unit\StudentProfileModelTest" classname="Tests.Unit.StudentProfileModelTest" assertions="7" time="0.056640"/>
        <testcase name="test_student_profile_accepts_all_identification_types" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" line="130" class="Tests\Unit\StudentProfileModelTest" classname="Tests.Unit.StudentProfileModelTest" assertions="8" time="0.042622"/>
        <testcase name="test_student_profile_can_be_created_with_emergency_contact_fields" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" line="14" class="Tests\Unit\StudentProfileModelTest" classname="Tests.Unit.StudentProfileModelTest" assertions="3" time="0.039955"/>
        <testcase name="test_emergency_contact_fields_are_fillable" file="/Users/rsa/lab/testcrm/crm-back/tests/Unit/StudentProfileModelTest.php" line="86" class="Tests\Unit\StudentProfileModelTest" classname="Tests.Unit.StudentProfileModelTest" assertions="11" time="0.035540"/>
      </testsuite>
    </testsuite>
    <testsuite name="Feature" tests="37" assertions="122" errors="4" failures="2" skipped="0" time="2.610511">
      <testsuite name="Tests\Feature\DormitoryRegistrationTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php" tests="4" assertions="0" errors="4" failures="0" skipped="0" time="0.164312">
        <testcase name="it_returns_only_rooms_with_available_beds_for_registration" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php" line="17" class="Tests\Feature\DormitoryRegistrationTest" classname="Tests.Feature.DormitoryRegistrationTest" assertions="0" time="0.052437">
          <error type="Illuminate\Database\QueryException">Tests\Feature\DormitoryRegistrationTest::it_returns_only_rooms_with_available_beds_for_registration
Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such table: dormitories (Connection: sqlite, SQL: insert into "dormitories" ("name", "address", "description", "gender", "capacity", "phone", "admin_id", "updated_at", "created_at") values (Test Dormitory 6968d27226b27, 4578 Gislason Corner Apt. 344
Port Clara, OH 07279-5934, Saepe minus inventore aut vero., male, 100, 781-597-2744, ?, 2026-01-15 11:41:38, 2026-01-15 11:41:38))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php:20</error>
        </testcase>
        <testcase name="it_returns_empty_rooms_array_when_no_rooms_have_available_beds" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php" line="108" class="Tests\Feature\DormitoryRegistrationTest" classname="Tests.Feature.DormitoryRegistrationTest" assertions="0" time="0.037527">
          <error type="Illuminate\Database\QueryException">Tests\Feature\DormitoryRegistrationTest::it_returns_empty_rooms_array_when_no_rooms_have_available_beds
Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such table: dormitories (Connection: sqlite, SQL: insert into "dormitories" ("name", "address", "description", "gender", "capacity", "phone", "admin_id", "updated_at", "created_at") values (Test Dormitory 6968d2722ffcf, 82226 Kattie Hill
Reannaview, FL 32104, Aliquid quod ut eveniet cumque dolores., male, 100, +1-786-991-3952, ?, 2026-01-15 11:41:38, 2026-01-15 11:41:38))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php:111</error>
        </testcase>
        <testcase name="it_includes_dormitory_details_in_response" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php" line="158" class="Tests\Feature\DormitoryRegistrationTest" classname="Tests.Feature.DormitoryRegistrationTest" assertions="0" time="0.037087">
          <error type="Illuminate\Database\QueryException">Tests\Feature\DormitoryRegistrationTest::it_includes_dormitory_details_in_response
Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such table: dormitories (Connection: sqlite, SQL: insert into "dormitories" ("name", "address", "description", "gender", "capacity", "phone", "admin_id", "updated_at", "created_at") values (Test Dormitory 6968d272391af, 2550 Emard Knoll Apt. 000
North Dorothyton, IN 88510, Nemo nulla nisi vel aperiam porro beatae esse enim., male, 100, +1-225-296-1775, ?, 2026-01-15 11:41:38, 2026-01-15 11:41:38))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php:161</error>
        </testcase>
        <testcase name="it_sets_cache_control_headers" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php" line="182" class="Tests\Feature\DormitoryRegistrationTest" classname="Tests.Feature.DormitoryRegistrationTest" assertions="0" time="0.037262">
          <error type="Illuminate\Database\QueryException">Tests\Feature\DormitoryRegistrationTest::it_sets_cache_control_headers
Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such table: dormitories (Connection: sqlite, SQL: insert into "dormitories" ("name", "address", "description", "gender", "capacity", "phone", "admin_id", "updated_at", "created_at") values (Test Dormitory 6968d27242401, 4807 Hessel Ferry
Ottoside, SC 74944, Aut ea laborum voluptatem mollitia quis commodi totam., male, 100, +15343674643, ?, 2026-01-15 11:41:38, 2026-01-15 11:41:38))

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:826
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:780
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:559
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Connection.php:523
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
/Users/rsa/lab/testcrm/crm-back/tests/Feature/DormitoryRegistrationTest.php:185</error>
        </testcase>
      </testsuite>
      <testsuite name="Tests\Feature\StudentControllerTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" tests="24" assertions="93" errors="0" failures="2" skipped="0" time="1.768273">
        <testcase name="test_unauthenticated_user_cannot_access_student_endpoints" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="528" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="1" time="0.218488">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\StudentControllerTest::test_unauthenticated_user_cannot_access_student_endpoints
Expected response status code [401] but received 200.
Failed asserting that 200 is identical to 401.

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:174
/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php:531</failure>
        </testcase>
        <testcase name="test_student_cannot_access_students_endpoint" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="165" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="1" time="0.056664"/>
        <testcase name="test_deleting_non_existent_student_returns_404" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="424" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="1" time="0.055323"/>
        <testcase name="test_viewing_non_existent_student_returns_404" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="317" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="1" time="0.052588"/>
        <testcase name="test_create_student_with_invalid_data_fails" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="252" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="6" time="0.064197"/>
        <testcase name="test_update_student_with_invalid_data_fails" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="385" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="4" time="0.062144"/>
        <testcase name="test_admin_can_delete_student" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="408" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.061954"/>
        <testcase name="test_approving_already_active_student" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="491" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="2" time="0.062496"/>
        <testcase name="test_admin_can_export_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="437" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="4" time="0.063415"/>
        <testcase name="test_admin_can_approve_student" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="474" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.071785"/>
        <testcase name="test_create_student_with_duplicate_email_fails" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="273" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.067536"/>
        <testcase name="test_student_cannot_manage_other_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="544" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="4" time="0.065365"/>
        <testcase name="test_admin_can_view_student_details" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="292" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="10" time="0.064555"/>
        <testcase name="test_admin_can_list_all_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="507" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="4" time="0.065888"/>
        <testcase name="test_admin_can_filter_students_by_status" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="133" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.071531"/>
        <testcase name="test_admin_can_search_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="149" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.071451"/>
        <testcase name="test_admin_can_export_students_with_filters" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="452" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.072301"/>
        <testcase name="test_admin_can_create_student_with_files" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="209" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.075992"/>
        <testcase name="test_admin_can_filter_students_by_faculty" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="114" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.081507"/>
        <testcase name="test_admin_can_create_student_with_valid_data" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="178" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="9" time="0.069464"/>
        <testcase name="test_admin_can_update_student" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="330" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.073799"/>
        <testcase name="test_admin_can_create_student_with_bed_assignment" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="231" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="3" time="0.082266"/>
        <testcase name="test_admin_can_update_student_bed_assignment" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="360" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="1" time="0.072227">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\StudentControllerTest::test_admin_can_update_student_bed_assignment
Expected response status code [200] but received 422.
Failed asserting that 422 is identical to 200.

The following errors occurred during the last request:

{
    "message": "The selected dormitory does not accept students of this gender.",
    "errors": {
        "bed_id": [
            "The selected dormitory does not accept students of this gender."
        ]
    }
}

/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
/Users/rsa/lab/testcrm/crm-back/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:174
/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php:375</failure>
        </testcase>
        <testcase name="test_admin_can_list_students" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentControllerTest.php" line="82" class="Tests\Feature\StudentControllerTest" classname="Tests.Feature.StudentControllerTest" assertions="15" time="0.065338"/>
      </testsuite>
      <testsuite name="Tests\Feature\StudentEmergencyContactTest" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" tests="9" assertions="29" errors="0" failures="0" skipped="0" time="0.677925">
        <testcase name="test_emergency_contact_type_validation_rejects_invalid_values" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="136" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="3" time="0.097585"/>
        <testcase name="test_identification_fields_are_required_for_registration" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="293" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="6" time="0.063367"/>
        <testcase name="test_student_registration_accepts_identification_fields" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="165" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="2" time="0.062395"/>
        <testcase name="test_student_update_accepts_new_emergency_contact_fields" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="66" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="2" time="0.066174"/>
        <testcase name="test_student_update_accepts_identification_fields" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="198" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="2" time="0.066117"/>
        <testcase name="test_student_registration_accepts_new_emergency_contact_fields" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="21" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="4" time="0.064110"/>
        <testcase name="test_emergency_contact_type_validation_accepts_valid_values" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="102" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="3" time="0.095171"/>
        <testcase name="test_identification_type_validation_accepts_valid_values" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="230" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="4" time="0.111501"/>
        <testcase name="test_identification_type_validation_rejects_invalid_values" file="/Users/rsa/lab/testcrm/crm-back/tests/Feature/StudentEmergencyContactTest.php" line="263" class="Tests\Feature\StudentEmergencyContactTest" classname="Tests.Feature.StudentEmergencyContactTest" assertions="3" time="0.051505"/>
      </testsuite>
    </testsuite>
  </testsuite>
</testsuites>
